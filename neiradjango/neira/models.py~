from __future__ import unicode_literals

from django.db import models

# Create your models here.

class School(models.Model):
    name = models.CharField(max_length=20)

class Boat(models.Model):
    size = (("four", "four"),
            ("eight", "eight"))
    level = models.IntegerField(default=1)
    school = models.ForeignKey(School, on_delete=models.CASCADE) 

class SeparatedValuesField(models.TextField):
  __metaclass__ = models.SubfieldBase

  def __init__(self, *args, **kwargs):
      self.token = kwargs.pop('token', ',')
      super(SeparatedValuesField, self).__init__(*args, **kwargs)

      def to_python(self, value):
          if not value: return
          if isinstance(value, list):
              return value
          return value.split(self.token)

      def get_db_prep_value(self, value):
          if not value: return
              assert(isinstance(value, list) or isinstance(value, tuple))
              return self.token.join([unicode(s) for s in value])

      def value_to_string(self, obj):
          value = self._get_val_from_obj(obj)
          return self.get_db_prep_value(value)

class Heat(models.Model):
    date = models.DateTimeField()

